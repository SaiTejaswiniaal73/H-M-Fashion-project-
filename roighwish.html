<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>wishlist items</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <link rel="stylesheet" href="./css_files/nav.css" />
    <link rel="stylesheet" href="./css_files/main_products.css" />
    <link
      rel="shortcut icon"
      href="./login/images/HM-logo.jpg"
      type="image/x-icon"
    />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Your Favorite Items</h1>
      </header>
      <nav
      id="nav"
      class="navbar navbar-expand-lg navbar-light w-100"
      style="background: linear-gradient(135deg, #8a2be2, #da70d6) !important"
    >
      <div class="container">
        <!-- H&M Logo (Only for Large Devices) -->
        <a class="navbar-brand d-none d-lg-block" href="main.html">
          <img src="./login/images/HM-logo.jpg" alt="H&M Logo" height="30" />
        </a>

        <!-- Large Device Links -->
        <ul class="navbar-nav d-none d-lg-flex">
          <li class="nav-item" id="nav_all">
            <button
              id="btn-all"
              class="nav-link"
              onclick="window.location.href='products.html'"
            >
              All
            </button>
          </li>
          <li class="nav-item">
            <a
              id="btn2"
              class="nav-link men-link"
              href="products.html?category=men"
              >Men</a
            >
          </li>
          <li class="nav-item">
            <a
              id="btn1"
              class="nav-link women-link"
              href="products.html?category=women"
              >Women</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link kids-link"
              href="products.html?category=kids"
              >Kids</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link baby-link"
              href="products.html?category=baby"
              >Baby</a
            >
          </li>
        </ul>
        
        <!-- Search Bar (Large Devices) -->
        <form
          class="d-flex search-container"
          role="search"
          onsubmit="handleSearch(event)"
        >
          <input
            id="search-input"
            class="form-control me-2 custom-search-input"
            type="search"
            placeholder="Search here..."
            aria-label="Search"
          />
          <button class="btn btn-outline-dark" type="submit">
            <i class="fas fa-search"></i>
          </button>
        </form>

        <!-- Optional: Display a message if no products are found -->
        <p id="noResults" style="display: none">No products found.</p>

        <!-- User Actions (Icons for All Devices) -->
        <ul class="navbar-nav user-icons d-none d-lg-flex">
          <li class="nav-item">
            <a class="nav-link" href="./login/loginPage.html"
              ><i class="fas fa-user"></i
            ></a>
          </li>

          <!-- Favorites Icon (Large Screen) -->
          <li class="nav-item" id="fav_nav">
            <a
              id="wishlist-link-large"
              class="nav-link position-relative"
              href="wishlist.html"
            >
              <i class="fas fa-heart text-danger"></i>
              <span id="fav-count-large" class="badge-count">0</span>
            </a>
          </li>

          <!-- Shopping Bag Icon (Large Screen) -->
          <li class="nav-item d-none d-lg-block">
            <a
              id="cart-link-large"
              class="nav-link position-relative"
              href="cart.html"
            >
              <i class="fas fa-shopping-bag text-dark"></i>
              <span id="bag-count-large" class="badge-count">0</span>
            </a>
          </li>
        </ul>

        <!-- Small Device Layout (Logo, Search, Sign-in, Fav, Bag) -->
        <div class="d-flex d-lg-none small-nav">
          <a class="navbar-brand" href="./login/loginPage.html">
            <img src="./login/images/HM-logo.jpg" alt="H&M Logo" height="30" />
          </a>

          <!-- Search Box for Small Devices -->
          <div class="search-box">
            <button class="btn btn-outline-dark" id="searchBtn">
              <i class="fas fa-search"></i>
            </button>
            <input
              class="form-control search-input"
              type="search"
              placeholder="Search"
              id="searchInput"
            />
          </div>

          <a class="nav-link" href="#"><i class="fas fa-user"></i></a>

          <!-- Favorites Icon for Small Screens -->
          <a
            id="wishlist-link-small"
            class="nav-link position-relative"
            href="wishlist.html"
          >
            <i class="fas fa-heart text-danger"></i>
            <span id="fav-count-small" class="badge-count">0</span>
          </a>
          
          <!-- Shopping Bag Icon for Small Screens -->
          <a
            id="cart-link-small"
            class="nav-link position-relative d-lg-none"
            href="cart.html"
          >
            <i class="fas fa-shopping-bag text-dark"></i>
            <span id="bag-count-small" class="badge-count">0</span>
          </a>

          <!-- Filter Icon for Small Screens -->
          <div class="filter-container d-lg-none">
            <button class="filter-btn" id="filter-toggle">
              <i class="fas fa-filter"></i>
            </button>
            <ul class="filter-menu" id="filter-menu">
              <li><a class="nav-link" href="products.html">all</a></li>
              <li><a class="nav-link" href="products.html?category=men">Men</a></li>
              <li><a class="nav-link" href="products.html?category=women">Women</a></li>
             
              <li><a class="nav-link" href="products.html?category=kids">Kids</a></li>
<li><a class="nav-link" href="products.html?category=baby">Baby</a></li>

            </ul>
          </div>
        </div>
      </div>
    </nav>

    
      <h2>Your Wishlist</h2>
      <div id="wishlist-items"></div>
      <script src="wishlist.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
      <script src="./js_files/search.js"></script>
      <script src="./js_files/nav.js"></script>
      <script src="./js_files/search_main.js"></script>
      <script src="./js_files/products.js"></script>
    </div>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Latest Deals</title>
    
    <link rel="stylesheet" href="./css_files/nav.css" />
    <link rel="stylesheet" href="./css_files/main_products.css" />
    <link rel="shortcut icon" href="./logo.png" type="image/x-icon" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>your fav items</h1>
        
      </header>
     
      <div class="list"></div>
    </div>
    <div class="card">
      <h1>Cart</h1>
      <ul class="listCard"></ul>
      <div class="checkout">
        <div class="total">0</div>
        <div class="closeShopping">Close</div>
      </div>
    </div>
    <h2>Your Wishlist</h2>
<div id="wishlist-items"></div>
<!-- <script src="wishlist.js"></script> -->

    <script>
        document.addEventListener("DOMContentLoaded", displayWishlist);

function displayWishlist() {
    let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
    const wishlistContainer = document.getElementById("wishlist-items");
    wishlistContainer.innerHTML = "";

    if (wishlist.length === 0) {
        wishlistContainer.innerHTML = "<p>Your wishlist is empty.</p>";
        return;
    }

    wishlist.forEach(product => {
        let wishlistItem = document.createElement("div");
        wishlistItem.classList.add("wishlist-item");
        wishlistItem.innerHTML = `
            <img src="${product.image}" alt="${product.name}">
            <h3>${product.name}</h3>
            <p>₹${product.price}</p>
            <button onclick="removeFromWishlist(${product.id})">Remove</button>
        `;
        wishlistContainer.appendChild(wishlistItem);
    });
}

function removeFromWishlist(productId) {
    let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
    wishlist = wishlist.filter(product => product.id !== productId);
    localStorage.setItem("wishlist", JSON.stringify(wishlist));
    displayWishlist();
}

    </script>

    <!-- <script>
        let list = document.querySelector(".list");
let listCard = document.querySelector(".listCard");
let total = document.querySelector(".total");
let quantity = document.querySelector(".quantity");

let cart = JSON.parse(localStorage.getItem("cart")) || [];
let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];

async function fetchProducts() {
  let response = await fetch("https://679ba6ae33d316846324a4ae.mockapi.io/practise");
  let data = await response.json();
  return data[0].allProducts; // Fetching all products
}

async function initApp() {
  let products = await fetchProducts();
  products.forEach((product, index) => {
    let newDiv = document.createElement("div");
    newDiv.classList.add("item");
    newDiv.innerHTML = `
      <img src="${product.image}" />
      <div class="title">${product.name}</div>
      <div class="price">₹${product.price.toLocaleString()}</div>
      <button onclick="addToCart(${product.id}, '${product.name}', '${product.image}', ${product.price})">Add To Cart</button>
      <button onclick="addToWishlist(${product.id}, '${product.name}', '${product.image}', ${product.price})">Add To Wishlist</button>
    `;
    list.appendChild(newDiv);
  });
}
initApp();

// Add to Cart function
function addToCart(id, name, image, price) {
  let product = cart.find(item => item.id === id);
  if (product) {
    product.quantity += 1;
  } else {
    cart.push({ id, name, image, price, quantity: 1 });
  }
  localStorage.setItem("cart", JSON.stringify(cart));
  alert(`"${name}" has been added to the cart`);
  reloadCart();
}

// Add to Wishlist function
function addToWishlist(id, name, image, price) {
  if (!wishlist.some(item => item.id === id)) {
    wishlist.push({ id, name, image, price });
    localStorage.setItem("wishlist", JSON.stringify(wishlist));
    alert(`"${name}" has been added to your Wishlist`);
  } else {
    alert(`"${name}" is already in your Wishlist`);
  }
}

// Reload Cart UI
function reloadCart() {
  listCard.innerHTML = "";
  let totalPrice = 0;
  let count = 0;
  cart.forEach((product, index) => {
    totalPrice += product.price * product.quantity;
    count += product.quantity;
    let newDiv = document.createElement("li");
    newDiv.innerHTML = `
      <div><img src="${product.image}" /></div>
      <div>${product.name}</div>
      <div>₹${product.price.toLocaleString()}</div>
      <div>
        <button onclick="changeQuantity(${index}, ${product.quantity - 1})">-</button>
        <div class="count">${product.quantity}</div>
        <button onclick="changeQuantity(${index}, ${product.quantity + 1})">+</button>
      </div>
    `;
    listCard.appendChild(newDiv);
  });
  total.innerText = `₹${totalPrice.toLocaleString()}`;
  quantity.innerText = count;
}

// Change Cart Quantity
function changeQuantity(index, newQuantity) {
  if (newQuantity === 0) {
    cart.splice(index, 1);
  } else {
    cart[index].quantity = newQuantity;
  }
  localStorage.setItem("cart", JSON.stringify(cart));
  reloadCart();
}

// Load Cart on Page Load
window.onload = reloadCart;

    </script> -->
  </body>
</html>
