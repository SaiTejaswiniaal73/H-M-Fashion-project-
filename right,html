<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fashion Recommendation App</title>
    <style>
      /* Simple styling for the navbar */
      nav {
        background-color: #333;
        padding: 10px;
        text-align: center;
      }
      nav a {
        color: white;
        padding: 14px 20px;
        text-decoration: none;
        text-align: center;
        font-size: 18px;
      }
      nav a:hover {
        background-color: #ddd;
        color: black;
      }

      /* Styling for product display */
      .main-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        padding: 20px;
        gap: 20px;
      }
      .product-box {
        background-color: #f5f5f5;
        border: 2px solid #ddd;
        width: 250px;
        text-align: center;
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
      }
      .product-box:hover {
        transform: scale(1.05);
      }
      .product-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }
      .product-title {
        font-weight: bold;
        color: #333;
      }
      .product-price {
        color: green;
        font-weight: bold;
      }
      .product-description {
        color: #555;
        font-size: 14px;
      }

      /* Button styling */
      .product-buttons {
        margin-top: 10px;
        display: flex;
        justify-content: space-between;
      }
      .product-buttons button {
        background-color: transparent;
        border: none;
        font-size: 20px;
        cursor: pointer;
      }
      .product-buttons button:hover {
        color: #ff6347;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav>
      <a href="#" id="women">Women</a>
      <a href="#" id="men">Men</a>
      <a href="#" id="kids">Kids</a>
      <a href="#" id="baby">Baby</a>
    </nav>

    <!-- Main Product Display -->
    <div class="main-container" id="products-container"></div>

    <script>
      // Fetch products from API
      function fetchProducts(category = '') {
        fetch("https://67a3589d31d0d3a6b78335fc.mockapi.io/clothing/CLOTH")
          .then((response) => response.json())
          .then((products) => {
            let main_div = document.getElementById("products-container");
            main_div.innerHTML = "";  // Clear previous products

            let categories = ['women', 'men', 'kids', 'baby'];
            let filteredProducts = [];

            if (category && categories.includes(category)) {
              filteredProducts = products[0].products[category]; // Get products for selected category
            } else {
              // If no category is selected, display all products
              categories.forEach((cat) => {
                filteredProducts = [...filteredProducts, ...products[0].products[cat]];
              });
            }

            // Display the filtered products
            filteredProducts.forEach((product) => {
              let box = document.createElement("div");
              box.classList.add("product-box");

              let title = document.createElement("h3");
              let poster = document.createElement("img");
              let price = document.createElement("h4");
              let description = document.createElement("p");
              let buttonsDiv = document.createElement("div");
              buttonsDiv.classList.add("product-buttons");

              // Title (Product name)
              title.innerHTML = product.name;
              title.classList.add("product-title");

              // Product image
              poster.src = product.image;
              poster.classList.add("product-image");

              // Price
              price.innerHTML = `â‚¹${product.price}`;
              price.classList.add("product-price");

              // Description
              description.innerHTML = product.description;
              description.classList.add("product-description");

              // Buttons (Heart and Cart)
              let heartButton = document.createElement("button");
              heartButton.innerHTML = "â¤ï¸";
              heartButton.title = "Add to Favorites";
              heartButton.onclick = function () {
                addToFavorites(product.id);
              };

              let cartButton = document.createElement("button");
              cartButton.innerHTML = "ðŸ›’";
              cartButton.title = "Add to Cart";
              cartButton.onclick = function () {
                addToCart(product.id);
              };

              // Append buttons to buttonsDiv
              buttonsDiv.append(heartButton, cartButton);

              // Append elements to the product box
              box.append(poster, title, price, description, buttonsDiv);

              // Append the product box to the main div
              main_div.append(box);
            });
          })
          .catch((error) => {
            console.error("Error fetching products:", error);
          });
      }

      // Event listeners for category clicks
      document.getElementById("women").addEventListener("click", () => fetchProducts("women"));
      document.getElementById("men").addEventListener("click", () => fetchProducts("men"));
      document.getElementById("kids").addEventListener("click", () => fetchProducts("kids"));
      document.getElementById("baby").addEventListener("click", () => fetchProducts("baby"));

      // Default display: show all products on page load
      fetchProducts();

      // Function to handle adding to favorites
      function addToFavorites(productId) {
        console.log(`Product ${productId} added to Favorites!`);
      }

      // Function to handle adding to cart
      function addToCart(productId) {
        console.log(`Product ${productId} added to Cart!`);
      }
    </script>
  </body>
</html>
